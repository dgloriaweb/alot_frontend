import{_ as h,r as _,m as C,c as y,g as p,a as e,i as s,v as u,p as V,q as A,s as g,t as U,j as q,b as w,F as D,f as M,x as T,o as F,y as I,k as P,l as S}from"./index-CZqAe08o.js";import{mockMyAds as O}from"./mockMyAds-fOeE4gT6.js";import{u as j,c as Y}from"./api-BB1QELzZ.js";const B={class:"form-group"},W={class:"form-group"},G={class:"form-group"},N={class:"form-group"},E={class:"form-group"},L={class:"form-group"},R={class:"form-group"},z={class:"form-group"},H={class:"form-group"},J={class:"form-group"},K={class:"form-group checkbox-group"},Q={class:"form-group"},X={class:"form-group checkbox-group"},Z={class:"form-group checkbox-group"},ee={class:"form-actions"},oe=["disabled"],te={__name:"OrganiserForm",props:{initialData:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup($,{emit:k}){const b=$,m=k,d=_(!1),l=_({postcode:"",indoor_outdoor:"",category:"",subcategory:"",details:"",video_link:"",day_time:"",duration:"",flexible_finish:"",disability_access:"",dog_friendly:!1,organiser_email:"",has_venue:!1,is_public:!0,...b.initialData});C(()=>b.initialData,f=>{f&&Object.keys(f).length>0&&(l.value={...l.value,...f})},{deep:!0});async function r(){d.value=!0;try{m("submit",{type:"Organiser",...l.value})}finally{d.value=!1}}return(f,i)=>(p(),y("form",{onSubmit:q(r,["prevent"]),class:"ad-form"},[e("div",B,[i[15]||(i[15]=e("label",{for:"postcode"},"First part of postcode *",-1)),s(e("input",{id:"postcode","onUpdate:modelValue":i[0]||(i[0]=o=>l.value.postcode=o),type:"text",required:"",placeholder:"e.g. SW1",maxlength:"10"},null,512),[[u,l.value.postcode]])]),e("div",W,[i[17]||(i[17]=e("label",{for:"indoor_outdoor"},"Indoor or outdoor *",-1)),s(e("select",{id:"indoor_outdoor","onUpdate:modelValue":i[1]||(i[1]=o=>l.value.indoor_outdoor=o),required:""},[...i[16]||(i[16]=[e("option",{value:""},"Select...",-1),e("option",{value:"indoor"},"Indoor",-1),e("option",{value:"outdoor"},"Outdoor",-1)])],512),[[V,l.value.indoor_outdoor]])]),e("div",G,[i[19]||(i[19]=e("label",{for:"category"},"Main category *",-1)),s(e("select",{id:"category","onUpdate:modelValue":i[2]||(i[2]=o=>l.value.category=o),required:""},[...i[18]||(i[18]=[A('<option value="" data-v-b31fa27e>Select...</option><option value="crafting" data-v-b31fa27e>Crafting</option><option value="music" data-v-b31fa27e>Music</option><option value="walks" data-v-b31fa27e>Walks</option><option value="cooking/bakery" data-v-b31fa27e>Cooking/Bakery</option><option value="gardening" data-v-b31fa27e>Gardening</option>',6)])],512),[[V,l.value.category]])]),e("div",N,[i[20]||(i[20]=e("label",{for:"subcategory"},"Subcategory",-1)),s(e("input",{id:"subcategory","onUpdate:modelValue":i[3]||(i[3]=o=>l.value.subcategory=o),type:"text",placeholder:"e.g. pottery, watercolor, jazz"},null,512),[[u,l.value.subcategory]])]),e("div",E,[i[21]||(i[21]=e("label",{for:"details"},"Details *",-1)),s(e("textarea",{id:"details","onUpdate:modelValue":i[4]||(i[4]=o=>l.value.details=o),required:"",rows:"5",placeholder:"Describe your activity, what participants can expect, skill level required, etc."},null,512),[[u,l.value.details]])]),e("div",L,[i[22]||(i[22]=e("label",{for:"video_link"},"Link to video (YouTube/Vimeo)",-1)),s(e("input",{id:"video_link","onUpdate:modelValue":i[5]||(i[5]=o=>l.value.video_link=o),type:"url",placeholder:"https://www.youtube.com/watch?v=..."},null,512),[[u,l.value.video_link]])]),e("div",R,[i[23]||(i[23]=e("label",{for:"day_time"},"Day and time of the week *",-1)),s(e("input",{id:"day_time","onUpdate:modelValue":i[6]||(i[6]=o=>l.value.day_time=o),type:"text",required:"",placeholder:"e.g. Sundays, 10am - 12pm"},null,512),[[u,l.value.day_time]])]),e("div",z,[i[24]||(i[24]=e("label",{for:"duration"},"Duration *",-1)),s(e("input",{id:"duration","onUpdate:modelValue":i[7]||(i[7]=o=>l.value.duration=o),type:"text",required:"",placeholder:"e.g. 2 hours"},null,512),[[u,l.value.duration]])]),e("div",H,[i[26]||(i[26]=e("label",{for:"flexible_finish"},"Flexible or strict finish *",-1)),s(e("select",{id:"flexible_finish","onUpdate:modelValue":i[8]||(i[8]=o=>l.value.flexible_finish=o),required:""},[...i[25]||(i[25]=[e("option",{value:""},"Select...",-1),e("option",{value:"flexible"},"Flexible (people can leave before end)",-1),e("option",{value:"strict"},"Strict finish time",-1)])],512),[[V,l.value.flexible_finish]])]),e("div",J,[i[27]||(i[27]=e("label",{for:"disability_access"},"Suitable for people living with disabilities",-1)),s(e("textarea",{id:"disability_access","onUpdate:modelValue":i[9]||(i[9]=o=>l.value.disability_access=o),rows:"3",placeholder:"Please specify accessibility features, adaptations available, etc."},null,512),[[u,l.value.disability_access]])]),e("div",K,[s(e("input",{id:"dog_friendly","onUpdate:modelValue":i[10]||(i[10]=o=>l.value.dog_friendly=o),type:"checkbox"},null,512),[[g,l.value.dog_friendly]]),i[28]||(i[28]=e("label",{for:"dog_friendly"},"Dog friendly activity",-1))]),e("div",Q,[i[29]||(i[29]=e("label",{for:"organiser_email"},"Your email address (non-public) *",-1)),s(e("input",{id:"organiser_email","onUpdate:modelValue":i[11]||(i[11]=o=>l.value.organiser_email=o),type:"email",required:"",placeholder:"you@example.com"},null,512),[[u,l.value.organiser_email]]),i[30]||(i[30]=e("p",{class:"form-hint"},"This will not be displayed publicly",-1))]),e("div",X,[s(e("input",{id:"has_venue","onUpdate:modelValue":i[12]||(i[12]=o=>l.value.has_venue=o),type:"checkbox"},null,512),[[g,l.value.has_venue]]),i[31]||(i[31]=e("label",{for:"has_venue"},"I have a venue, this venue is already hosting this event",-1))]),e("div",Z,[s(e("input",{id:"is_public","onUpdate:modelValue":i[13]||(i[13]=o=>l.value.is_public=o),type:"checkbox"},null,512),[[g,l.value.is_public]]),i[32]||(i[32]=e("label",{for:"is_public"},"Make this ad public (visible to non-logged-in users)",-1))]),e("div",ee,[e("button",{type:"submit",class:"btn btn-primary",disabled:d.value},U(d.value?"Submitting...":"Submit Ad"),9,oe),e("button",{type:"button",class:"btn btn-secondary",onClick:i[14]||(i[14]=o=>f.$emit("cancel"))}," Cancel ")])],32))}},le=h(te,[["__scopeId","data-v-b31fa27e"]]),ie={class:"form-group"},ae={class:"form-group"},se={class:"form-group"},ne={class:"form-group"},re=["onUpdate:modelValue"],ue=["onClick"],de={class:"form-group checkbox-group"},pe={class:"form-group checkbox-group"},ve={class:"form-group checkbox-group"},be={class:"form-group"},fe={class:"form-group"},me=["onUpdate:modelValue"],ye=["onClick"],ce={class:"form-group"},ge={class:"form-group checkbox-group"},_e={class:"form-group"},ke={class:"form-group"},xe={class:"form-group checkbox-group"},Ve={class:"form-actions"},$e=["disabled"],we={__name:"AttendantForm",props:{initialData:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup($,{emit:k}){const b=$,m=k,d=_(!1),l=_({category:"",category_other:"",subcategory:"",indoor_outdoor:"",postcodes:[""],drives:!1,needs_lift:!1,show_disabled:!1,disability_info:"",available_times:[""],additional_info:"",dog_friendly_only:!1,contact_email:"",nickname:"",is_public:!0,...b.initialData});C(()=>b.initialData,c=>{c&&Object.keys(c).length>0&&(l.value={...l.value,...c},(!l.value.postcodes||l.value.postcodes.length===0)&&(l.value.postcodes=[""]),(!l.value.available_times||l.value.available_times.length===0)&&(l.value.available_times=[""]))},{deep:!0});function r(){l.value.postcodes.push("")}function f(c){l.value.postcodes.length>1&&l.value.postcodes.splice(c,1)}function i(){l.value.available_times.push("")}function o(c){l.value.available_times.length>1&&l.value.available_times.splice(c,1)}async function a(){d.value=!0;try{m("submit",{type:"Attendant",...l.value})}finally{d.value=!1}}return(c,t)=>(p(),y("form",{onSubmit:q(a,["prevent"]),class:"ad-form"},[e("div",ie,[t[15]||(t[15]=e("label",{for:"category"},"Main category of occupation *",-1)),s(e("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=n=>l.value.category=n),required:""},[...t[14]||(t[14]=[A('<option value="" data-v-0cdfe7e0>Select...</option><option value="crafting" data-v-0cdfe7e0>Crafting</option><option value="music" data-v-0cdfe7e0>Music</option><option value="walks" data-v-0cdfe7e0>Walks</option><option value="cooking/bakery" data-v-0cdfe7e0>Cooking/Bakery</option><option value="gardening" data-v-0cdfe7e0>Gardening</option><option value="other" data-v-0cdfe7e0>Other</option>',7)])],512),[[V,l.value.category]]),l.value.category==="other"?s((p(),y("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value.category_other=n),type:"text",placeholder:"Please specify",class:"form-group",style:{"margin-top":"10px"}},null,512)),[[u,l.value.category_other]]):w("",!0)]),e("div",ae,[t[16]||(t[16]=e("label",{for:"subcategory"},"Subcategory",-1)),s(e("input",{id:"subcategory","onUpdate:modelValue":t[2]||(t[2]=n=>l.value.subcategory=n),type:"text",placeholder:"e.g. pottery, jazz, hiking"},null,512),[[u,l.value.subcategory]])]),e("div",se,[t[18]||(t[18]=e("label",{for:"indoor_outdoor"},"Indoor, outdoor or both *",-1)),s(e("select",{id:"indoor_outdoor","onUpdate:modelValue":t[3]||(t[3]=n=>l.value.indoor_outdoor=n),required:""},[...t[17]||(t[17]=[e("option",{value:""},"Select...",-1),e("option",{value:"indoor"},"Indoor",-1),e("option",{value:"outdoor"},"Outdoor",-1),e("option",{value:"both"},"Both",-1)])],512),[[V,l.value.indoor_outdoor]])]),e("div",ne,[t[19]||(t[19]=e("label",null,"Areas (first part of postcode) where you can attend *",-1)),(p(!0),y(D,null,M(l.value.postcodes,(n,v)=>(p(),y("div",{key:v,class:"postcode-item"},[s(e("input",{"onUpdate:modelValue":x=>l.value.postcodes[v]=x,type:"text",required:"",placeholder:"e.g. SW1",maxlength:"10"},null,8,re),[[u,l.value.postcodes[v]]]),l.value.postcodes.length>1?(p(),y("button",{key:0,type:"button",class:"btn-remove",onClick:x=>f(v)}," Remove ",8,ue)):w("",!0)]))),128)),e("button",{type:"button",class:"btn btn-secondary btn-small",onClick:r}," + Add another area ")]),e("div",de,[s(e("input",{id:"drives","onUpdate:modelValue":t[4]||(t[4]=n=>l.value.drives=n),type:"checkbox"},null,512),[[g,l.value.drives]]),t[20]||(t[20]=e("label",{for:"drives"},"I drive",-1))]),e("div",pe,[s(e("input",{id:"needs_lift","onUpdate:modelValue":t[5]||(t[5]=n=>l.value.needs_lift=n),type:"checkbox"},null,512),[[g,l.value.needs_lift]]),t[21]||(t[21]=e("label",{for:"needs_lift"},"I need a lift",-1))]),e("div",ve,[s(e("input",{id:"show_disabled","onUpdate:modelValue":t[6]||(t[6]=n=>l.value.show_disabled=n),type:"checkbox"},null,512),[[g,l.value.show_disabled]]),t[22]||(t[22]=e("label",{for:"show_disabled"},"Show activities that can be attended by disabled people",-1))]),e("div",be,[t[23]||(t[23]=e("label",{for:"disability_info"},"Do you live with any disabilities they should know of?",-1)),s(e("textarea",{id:"disability_info","onUpdate:modelValue":t[7]||(t[7]=n=>l.value.disability_info=n),rows:"3",placeholder:"Please share any relevant information"},null,512),[[u,l.value.disability_info]])]),e("div",fe,[t[24]||(t[24]=e("label",null,"Available times *",-1)),(p(!0),y(D,null,M(l.value.available_times,(n,v)=>(p(),y("div",{key:v,class:"time-item"},[s(e("input",{"onUpdate:modelValue":x=>l.value.available_times[v]=x,type:"text",required:"",placeholder:"e.g. Wednesdays from 6pm"},null,8,me),[[u,l.value.available_times[v]]]),l.value.available_times.length>1?(p(),y("button",{key:0,type:"button",class:"btn-remove",onClick:x=>o(v)}," Remove ",8,ye)):w("",!0)]))),128)),e("button",{type:"button",class:"btn btn-secondary btn-small",onClick:i}," + Add another time ")]),e("div",ce,[t[25]||(t[25]=e("label",{for:"additional_info"},"Is there anything else you'd like to add?",-1)),s(e("textarea",{id:"additional_info","onUpdate:modelValue":t[8]||(t[8]=n=>l.value.additional_info=n),rows:"4",placeholder:"Tell us more about what you're looking for..."},null,512),[[u,l.value.additional_info]])]),e("div",ge,[s(e("input",{id:"dog_friendly_only","onUpdate:modelValue":t[9]||(t[9]=n=>l.value.dog_friendly_only=n),type:"checkbox"},null,512),[[g,l.value.dog_friendly_only]]),t[26]||(t[26]=e("label",{for:"dog_friendly_only"},"Dog friendly activities only",-1))]),e("div",_e,[t[27]||(t[27]=e("label",{for:"contact_email"},"Contact email *",-1)),s(e("input",{id:"contact_email","onUpdate:modelValue":t[10]||(t[10]=n=>l.value.contact_email=n),type:"email",required:"",placeholder:"you@example.com"},null,512),[[u,l.value.contact_email]])]),e("div",ke,[t[28]||(t[28]=e("label",{for:"nickname"},"Nick name / Addressee name",-1)),s(e("input",{id:"nickname","onUpdate:modelValue":t[11]||(t[11]=n=>l.value.nickname=n),type:"text",placeholder:"How should we address you?"},null,512),[[u,l.value.nickname]])]),e("div",xe,[s(e("input",{id:"is_public","onUpdate:modelValue":t[12]||(t[12]=n=>l.value.is_public=n),type:"checkbox"},null,512),[[g,l.value.is_public]]),t[29]||(t[29]=e("label",{for:"is_public"},"Make this ad public (visible to non-logged-in users)",-1))]),e("div",Ve,[e("button",{type:"submit",class:"btn btn-primary",disabled:d.value},U(d.value?"Submitting...":"Submit Ad"),9,$e),e("button",{type:"button",class:"btn btn-secondary",onClick:t[13]||(t[13]=n=>c.$emit("cancel"))}," Cancel ")])],32))}},Ue=h(we,[["__scopeId","data-v-0cdfe7e0"]]),he={class:"form-group"},Se={class:"form-group"},Ce={class:"form-group"},Ae={class:"form-group"},qe={class:"checkbox-list"},De=["value"],Me={class:"form-group"},Te={class:"form-group"},Fe={class:"form-group"},Ie={class:"form-group"},Pe={class:"form-group checkbox-group"},Oe={class:"form-group"},je={class:"form-group"},Ye={class:"form-group"},Be={class:"form-group"},We={class:"form-group checkbox-group"},Ge={class:"form-actions"},Ne=["disabled"],Ee={__name:"VenueForm",props:{initialData:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup($,{emit:k}){const b=$,m=k,d=_(!1),l=[{value:"crafting",label:"Crafting"},{value:"music",label:"Music"},{value:"walks",label:"Walks"},{value:"cooking/bakery",label:"Cooking/Bakery"},{value:"gardening",label:"Gardening"},{value:"yoga",label:"Yoga"},{value:"meditation",label:"Meditation"},{value:"discussion group",label:"Discussion Group"},{value:"dance",label:"Dance"}],r=_({postcode:"",available_days:"",available_duration:"",categories:[],subcategories:"",parking:"",public_transport:"",disabled_access:"",toilets:!1,tools_furniture:"",video_link:"",contact_name:"",contact_email:"",is_public:!0,...b.initialData});C(()=>b.initialData,i=>{i&&Object.keys(i).length>0&&(r.value={...r.value,...i},Array.isArray(r.value.categories)||(r.value.categories=[]))},{deep:!0});async function f(){d.value=!0;try{m("submit",{type:"Venue",...r.value})}finally{d.value=!1}}return(i,o)=>(p(),y("form",{onSubmit:q(f,["prevent"]),class:"ad-form"},[e("div",he,[o[15]||(o[15]=e("label",{for:"postcode"},"First part of postcode *",-1)),s(e("input",{id:"postcode","onUpdate:modelValue":o[0]||(o[0]=a=>r.value.postcode=a),type:"text",required:"",placeholder:"e.g. BN2",maxlength:"10"},null,512),[[u,r.value.postcode]])]),e("div",Se,[o[16]||(o[16]=e("label",{for:"available_days"},"What days of the week do you have free capacity? *",-1)),s(e("input",{id:"available_days","onUpdate:modelValue":o[1]||(o[1]=a=>r.value.available_days=a),type:"text",required:"",placeholder:"e.g. Wednesdays, Fridays"},null,512),[[u,r.value.available_days]])]),e("div",Ce,[o[17]||(o[17]=e("label",{for:"available_duration"},"What duration can you provide on those days? *",-1)),s(e("input",{id:"available_duration","onUpdate:modelValue":o[2]||(o[2]=a=>r.value.available_duration=a),type:"text",required:"",placeholder:"e.g. Full day (9am - 9pm) or half day options"},null,512),[[u,r.value.available_duration]])]),e("div",Ae,[o[18]||(o[18]=e("label",null,"Categories you welcome in your venue *",-1)),e("div",qe,[(p(),y(D,null,M(l,a=>e("label",{key:a.value,class:"checkbox-group"},[s(e("input",{type:"checkbox",value:a.value,"onUpdate:modelValue":o[3]||(o[3]=c=>r.value.categories=c)},null,8,De),[[g,r.value.categories]]),e("span",null,U(a.label),1)])),64))])]),e("div",Me,[o[19]||(o[19]=e("label",{for:"subcategories"},"Subcategories",-1)),s(e("input",{id:"subcategories","onUpdate:modelValue":o[4]||(o[4]=a=>r.value.subcategories=a),type:"text",placeholder:"e.g. yoga, knitting, book club"},null,512),[[u,r.value.subcategories]])]),e("div",Te,[o[20]||(o[20]=e("label",{for:"parking"},"Parking conditions",-1)),s(e("textarea",{id:"parking","onUpdate:modelValue":o[5]||(o[5]=a=>r.value.parking=a),rows:"2",placeholder:"e.g. Free parking available for 8 cars"},null,512),[[u,r.value.parking]])]),e("div",Fe,[o[21]||(o[21]=e("label",{for:"public_transport"},"Bus/train accessibility",-1)),s(e("textarea",{id:"public_transport","onUpdate:modelValue":o[6]||(o[6]=a=>r.value.public_transport=a),rows:"2",placeholder:"e.g. Bus routes 12, 25, 49 stop nearby. 10 min walk from station."},null,512),[[u,r.value.public_transport]])]),e("div",Ie,[o[22]||(o[22]=e("label",{for:"disabled_access"},"Disabled accessibility *",-1)),s(e("textarea",{id:"disabled_access","onUpdate:modelValue":o[7]||(o[7]=a=>r.value.disabled_access=a),rows:"3",required:"",placeholder:"Please detail accessibility features, e.g. Ramp access, disabled toilet, wide doorways"},null,512),[[u,r.value.disabled_access]])]),e("div",Pe,[s(e("input",{id:"toilets","onUpdate:modelValue":o[8]||(o[8]=a=>r.value.toilets=a),type:"checkbox"},null,512),[[g,r.value.toilets]]),o[23]||(o[23]=e("label",{for:"toilets"},"Toilets provided",-1))]),e("div",Oe,[o[24]||(o[24]=e("label",{for:"tools_furniture"},"Any tool or furniture provided",-1)),s(e("textarea",{id:"tools_furniture","onUpdate:modelValue":o[9]||(o[9]=a=>r.value.tools_furniture=a),rows:"3",placeholder:"e.g. Tables, chairs, yoga mats (10), projector, screen, tea urn"},null,512),[[u,r.value.tools_furniture]])]),e("div",je,[o[25]||(o[25]=e("label",{for:"video_link"},"Link to video (YouTube/Vimeo) introducing the venue",-1)),s(e("input",{id:"video_link","onUpdate:modelValue":o[10]||(o[10]=a=>r.value.video_link=a),type:"url",placeholder:"https://www.youtube.com/watch?v=..."},null,512),[[u,r.value.video_link]])]),e("div",Ye,[o[26]||(o[26]=e("label",{for:"contact_name"},"Contact name (if not the same as organiser)",-1)),s(e("input",{id:"contact_name","onUpdate:modelValue":o[11]||(o[11]=a=>r.value.contact_name=a),type:"text",placeholder:"Name of responsible person"},null,512),[[u,r.value.contact_name]])]),e("div",Be,[o[27]||(o[27]=e("label",{for:"contact_email"},"Contact email *",-1)),s(e("input",{id:"contact_email","onUpdate:modelValue":o[12]||(o[12]=a=>r.value.contact_email=a),type:"email",required:"",placeholder:"venue@example.com"},null,512),[[u,r.value.contact_email]]),o[28]||(o[28]=e("p",{class:"form-hint"},"This will not be displayed publicly",-1))]),e("div",We,[s(e("input",{id:"is_public","onUpdate:modelValue":o[13]||(o[13]=a=>r.value.is_public=a),type:"checkbox"},null,512),[[g,r.value.is_public]]),o[29]||(o[29]=e("label",{for:"is_public"},"Make this ad public (visible to non-logged-in users)",-1))]),e("div",Ge,[e("button",{type:"submit",class:"btn btn-primary",disabled:d.value},U(d.value?"Submitting...":"Submit Ad"),9,Ne),e("button",{type:"button",class:"btn btn-secondary",onClick:o[14]||(o[14]=a=>i.$emit("cancel"))}," Cancel ")])],32))}},Le=h(Ee,[["__scopeId","data-v-ed56505b"]]),Re={class:"form-group"},ze={class:"form-group"},He={class:"form-group"},Je={class:"form-group"},Ke={class:"form-group"},Qe={class:"form-group"},Xe={class:"form-group"},Ze={class:"form-group"},eo={class:"form-group"},oo={class:"form-group"},to={class:"form-group checkbox-group"},lo={class:"form-group"},io={class:"form-group checkbox-group"},ao={class:"form-group checkbox-group"},so={key:0,class:"form-group"},no={class:"form-group checkbox-group"},ro={class:"form-actions"},uo=["disabled"],po={__name:"TutorForm",props:{initialData:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup($,{emit:k}){const b=$,m=k,d=_(!1),l=_({postcode:"",indoor_outdoor:"",category:"",subcategory:"",details:"",video_link:"",day_time:"",duration:"",flexible_finish:"",disability_access:"",dog_friendly:!1,tutor_email:"",has_venue:!1,has_certificate:!1,certificate:null,is_public:!0,...b.initialData});C(()=>b.initialData,i=>{i&&Object.keys(i).length>0&&(l.value={...l.value,...i})},{deep:!0});function r(i){const o=i.target.files[0];o&&(l.value.certificate=o)}async function f(){d.value=!0;try{m("submit",{type:"Tutor",...l.value})}finally{d.value=!1}}return(i,o)=>(p(),y("form",{onSubmit:q(f,["prevent"]),class:"ad-form"},[e("div",Re,[o[16]||(o[16]=e("label",{for:"postcode"},"First part of postcode of the location *",-1)),s(e("input",{id:"postcode","onUpdate:modelValue":o[0]||(o[0]=a=>l.value.postcode=a),type:"text",required:"",placeholder:"e.g. N4",maxlength:"10"},null,512),[[u,l.value.postcode]])]),e("div",ze,[o[18]||(o[18]=e("label",{for:"indoor_outdoor"},"Indoor or outdoor *",-1)),s(e("select",{id:"indoor_outdoor","onUpdate:modelValue":o[1]||(o[1]=a=>l.value.indoor_outdoor=a),required:""},[...o[17]||(o[17]=[e("option",{value:""},"Select...",-1),e("option",{value:"indoor"},"Indoor",-1),e("option",{value:"outdoor"},"Outdoor",-1)])],512),[[V,l.value.indoor_outdoor]])]),e("div",He,[o[20]||(o[20]=e("label",{for:"category"},"Main category of occupation *",-1)),s(e("select",{id:"category","onUpdate:modelValue":o[2]||(o[2]=a=>l.value.category=a),required:""},[...o[19]||(o[19]=[A('<option value="" data-v-1ab13422>Select...</option><option value="crafting" data-v-1ab13422>Crafting</option><option value="music" data-v-1ab13422>Music</option><option value="walks" data-v-1ab13422>Walks</option><option value="cooking/bakery" data-v-1ab13422>Cooking/Bakery</option><option value="gardening" data-v-1ab13422>Gardening</option><option value="yoga" data-v-1ab13422>Yoga</option><option value="meditation" data-v-1ab13422>Meditation</option><option value="discussion group" data-v-1ab13422>Discussion Group</option><option value="dance" data-v-1ab13422>Dance</option><option value="amateur music" data-v-1ab13422>Amateur Music</option><option value="drumming" data-v-1ab13422>Drumming</option>',12)])],512),[[V,l.value.category]])]),e("div",Je,[o[21]||(o[21]=e("label",{for:"subcategory"},"Subcategory",-1)),s(e("input",{id:"subcategory","onUpdate:modelValue":o[3]||(o[3]=a=>l.value.subcategory=a),type:"text",placeholder:"e.g. hand-drumming, vinyasa yoga"},null,512),[[u,l.value.subcategory]])]),e("div",Ke,[o[22]||(o[22]=e("label",{for:"details"},"Details *",-1)),s(e("textarea",{id:"details","onUpdate:modelValue":o[4]||(o[4]=a=>l.value.details=a),required:"",rows:"5",placeholder:"Introduce yourself, your experience, certifications, what you offer, who would benefit, etc."},null,512),[[u,l.value.details]])]),e("div",Qe,[o[23]||(o[23]=e("label",{for:"video_link"},"Link to video (YouTube/Vimeo) introducing the instructor",-1)),s(e("input",{id:"video_link","onUpdate:modelValue":o[5]||(o[5]=a=>l.value.video_link=a),type:"url",placeholder:"https://www.youtube.com/watch?v=..."},null,512),[[u,l.value.video_link]])]),e("div",Xe,[o[24]||(o[24]=e("label",{for:"day_time"},"Day and time of the week where people can attend *",-1)),s(e("input",{id:"day_time","onUpdate:modelValue":o[6]||(o[6]=a=>l.value.day_time=a),type:"text",required:"",placeholder:"e.g. Thursdays, 7pm - 8:30pm"},null,512),[[u,l.value.day_time]])]),e("div",Ze,[o[25]||(o[25]=e("label",{for:"duration"},"Duration *",-1)),s(e("input",{id:"duration","onUpdate:modelValue":o[7]||(o[7]=a=>l.value.duration=a),type:"text",required:"",placeholder:"e.g. 1.5 hours"},null,512),[[u,l.value.duration]])]),e("div",eo,[o[27]||(o[27]=e("label",{for:"flexible_finish"},"Flexible or strict finish *",-1)),s(e("select",{id:"flexible_finish","onUpdate:modelValue":o[8]||(o[8]=a=>l.value.flexible_finish=a),required:""},[...o[26]||(o[26]=[e("option",{value:""},"Select...",-1),e("option",{value:"flexible"},"Flexible (people can leave before end)",-1),e("option",{value:"strict"},"Strict finish time",-1)])],512),[[V,l.value.flexible_finish]])]),e("div",oo,[o[28]||(o[28]=e("label",{for:"disability_access"},"Suitable for people living with disabilities",-1)),s(e("textarea",{id:"disability_access","onUpdate:modelValue":o[9]||(o[9]=a=>l.value.disability_access=a),rows:"3",placeholder:"Please specify accessibility features, adaptations available, etc."},null,512),[[u,l.value.disability_access]])]),e("div",to,[s(e("input",{id:"dog_friendly","onUpdate:modelValue":o[10]||(o[10]=a=>l.value.dog_friendly=a),type:"checkbox"},null,512),[[g,l.value.dog_friendly]]),o[29]||(o[29]=e("label",{for:"dog_friendly"},"Dog friendly activity",-1))]),e("div",lo,[o[30]||(o[30]=e("label",{for:"tutor_email"},"Your email address (non-public) *",-1)),s(e("input",{id:"tutor_email","onUpdate:modelValue":o[11]||(o[11]=a=>l.value.tutor_email=a),type:"email",required:"",placeholder:"you@example.com"},null,512),[[u,l.value.tutor_email]]),o[31]||(o[31]=e("p",{class:"form-hint"},"This will not be displayed publicly",-1))]),e("div",io,[s(e("input",{id:"has_venue","onUpdate:modelValue":o[12]||(o[12]=a=>l.value.has_venue=a),type:"checkbox"},null,512),[[g,l.value.has_venue]]),o[32]||(o[32]=e("label",{for:"has_venue"},"I have a venue, this venue is already hosting this event",-1))]),e("div",ao,[s(e("input",{id:"has_certificate","onUpdate:modelValue":o[13]||(o[13]=a=>l.value.has_certificate=a),type:"checkbox"},null,512),[[g,l.value.has_certificate]]),o[33]||(o[33]=e("label",{for:"has_certificate"},"I have a certificate",-1))]),l.value.has_certificate?(p(),y("div",so,[o[34]||(o[34]=e("label",{for:"certificate"},"Please add your certificate",-1)),e("input",{id:"certificate",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:r},null,32),o[35]||(o[35]=e("p",{class:"form-hint"},"Upload certificate file (PDF, JPG, PNG)",-1))])):w("",!0),e("div",no,[s(e("input",{id:"is_public","onUpdate:modelValue":o[14]||(o[14]=a=>l.value.is_public=a),type:"checkbox"},null,512),[[g,l.value.is_public]]),o[36]||(o[36]=e("label",{for:"is_public"},"Make this ad public (visible to non-logged-in users)",-1))]),e("div",ro,[e("button",{type:"submit",class:"btn btn-primary",disabled:d.value},U(d.value?"Submitting...":"Submit Ad"),9,uo),e("button",{type:"button",class:"btn btn-secondary",onClick:o[15]||(o[15]=a=>i.$emit("cancel"))}," Cancel ")])],32))}},vo=h(po,[["__scopeId","data-v-1ab13422"]]),bo={class:"card"},fo={class:"form-group"},mo=["disabled"],yo={key:0,class:"form-hint"},co={key:0,class:"loading-message"},go={key:1,class:"form-container"},_o={__name:"PostAd",setup($){const k=I(),b=P(),m=_(""),d=_({}),l=_(!1),r=_(null),f=T(()=>!!r.value);F(async()=>{const t=k.query.edit,n=k.query.type;t?(r.value=parseInt(t),await i(r.value)):n&&["organiser","attendant","venue","tutor"].includes(n)&&(m.value=n)});async function i(t){l.value=!0;try{if(window.location.hostname==="localhost"&&window.location.port==="3000"){const n=O.find(v=>v.id===t);if(n){const v={Organiser:"organiser",Attendant:"attendant",Venue:"venue",Tutor:"tutor"};m.value=v[n.type]||v[n.user_type]||"",d.value=o(n)}else alert("Ad not found"),b.push("/my-ads")}}catch(n){console.error("Error loading ad:",n),alert("Error loading ad. Please try again."),b.push("/my-ads")}finally{l.value=!1}}function o(t){const n={title:t.title||"",details:t.details||"",summary:t.summary||"",is_public:t.is_public!==void 0?t.is_public:!0};return t.type==="Organiser"||t.user_type==="Organiser"?{...n,postcode:t.postcode||"",indoor_outdoor:t.indoor_outdoor||"",category:t.category||"",subcategory:t.subcategory||"",video_link:t.video_link||"",day_time:t.day_time||"",duration:t.duration||"",flexible_finish:t.flexible_finish||"",disability_access:t.disability_access||"",dog_friendly:t.dog_friendly||!1,organiser_email:t.organiser_email||"",has_venue:t.has_venue||!1}:t.type==="Attendant"||t.user_type==="Attendant"?{...n,category:t.category||"",subcategory:t.subcategory||"",indoor_outdoor:t.indoor_outdoor||"",postcodes:t.postcodes||[""],drives:t.drives||!1,needs_lift:t.needs_lift||!1,show_disabled:t.show_disabled||!1,disability_info:t.disability_info||"",available_times:t.available_times||[""],additional_info:t.additional_info||"",dog_friendly_only:t.dog_friendly_only||!1,contact_email:t.contact_email||"",nickname:t.nickname||""}:t.type==="Venue"||t.user_type==="Venue"?{...n,postcode:t.postcode||"",available_days:t.available_days||"",available_duration:t.available_duration||"",categories:Array.isArray(t.categories)?t.categories:t.categories?[t.categories]:[],subcategories:Array.isArray(t.subcategories)?t.subcategories.join(", "):t.subcategories||"",parking:t.parking||"",public_transport:t.public_transport||"",disabled_access:t.disabled_access||"",toilets:t.toilets||!1,tools_furniture:t.tools_furniture||"",video_link:t.video_link||"",contact_name:t.contact_name||"",contact_email:t.contact_email||""}:t.type==="Tutor"||t.user_type==="Tutor"?{...n,postcode:t.postcode||"",indoor_outdoor:t.indoor_outdoor||"",category:t.category||"",subcategory:t.subcategory||"",video_link:t.video_link||"",day_time:t.day_time||"",duration:t.duration||"",flexible_finish:t.flexible_finish||"",disability_access:t.disability_access||"",dog_friendly:t.dog_friendly||!1,tutor_email:t.tutor_email||t.organiser_email||"",has_venue:t.has_venue||!1,has_certificate:t.has_certificate||!1}:n}async function a(t){var n,v;try{if(window.location.hostname==="localhost"&&window.location.port==="3000"){console.log(f.value?"Updating ad:":"Submitting ad:",t),alert(f.value?"Ad updated successfully! Your changes are pending admin approval. (Mock)":"Ad submitted successfully! Your ad is pending admin approval. You will receive an email confirmation. (Mock)"),b.push("/my-ads");return}f.value?(await j(r.value,t),alert("Ad updated successfully! Your changes are pending admin approval.")):(await Y(t),alert("Ad submitted successfully! Your ad is pending admin approval. You will receive an email confirmation.")),b.push("/my-ads")}catch(x){console.error("Error submitting ad:",x),((n=x.response)==null?void 0:n.status)===422?alert("Please fill in all required fields correctly."):((v=x.response)==null?void 0:v.status)===401?(alert("Please log in to post an ad."),b.push("/login")):alert("Error submitting ad. Please try again.")}}function c(){b.push("/my-ads")}return(t,n)=>(p(),y("section",null,[e("h1",null,U(f.value?"Edit listing":"Create a listing"),1),e("article",bo,[e("div",fo,[n[2]||(n[2]=e("label",{for:"userType"},"Select which type of user you are: *",-1)),s(e("select",{id:"userType","onUpdate:modelValue":n[0]||(n[0]=v=>m.value=v),class:"select",required:"",disabled:f.value},[...n[1]||(n[1]=[A('<option value="" data-v-0cdfb05f>Select a type...</option><option value="organiser" data-v-0cdfb05f>Organiser</option><option value="attendant" data-v-0cdfb05f>Attendant</option><option value="venue" data-v-0cdfb05f>Venue</option><option value="tutor" data-v-0cdfb05f>Tutor / Instructor</option>',5)])],8,mo),[[V,m.value]]),f.value?(p(),y("p",yo,"User type cannot be changed when editing")):w("",!0)]),l.value?(p(),y("div",co,[...n[3]||(n[3]=[e("p",null,"Loading ad data...",-1)])])):m.value?(p(),y("div",go,[m.value==="organiser"?(p(),S(le,{key:0,"initial-data":d.value,onSubmit:a,onCancel:c},null,8,["initial-data"])):m.value==="attendant"?(p(),S(Ue,{key:1,"initial-data":d.value,onSubmit:a,onCancel:c},null,8,["initial-data"])):m.value==="venue"?(p(),S(Le,{key:2,"initial-data":d.value,onSubmit:a,onCancel:c},null,8,["initial-data"])):m.value==="tutor"?(p(),S(vo,{key:3,"initial-data":d.value,onSubmit:a,onCancel:c},null,8,["initial-data"])):w("",!0)])):w("",!0)])]))}},$o=h(_o,[["__scopeId","data-v-0cdfb05f"]]);export{$o as default};
