import{m as p}from"./mockAds-44pNlkdV.js";import{mockMyAds as m}from"./mockMyAds-fOeE4gT6.js";import{A as f}from"./AdCard-B1YXt8-j.js";import{_,r as i,o as v,c as o,a,t as w,F as y,f as k,g as t,l as g}from"./index-CZqAe08o.js";const A={key:0,class:"card"},h={key:1,class:"card"},B={class:"error"},D={key:2,class:"card"},b={key:3,class:"ads-list"},L={__name:"Browse",setup(q){const r=i([]),n=i(!0),u=i("");return v(()=>{if(window.location.hostname==="localhost"&&window.location.port==="3000"){const d=[...m,...p].map(e=>({...e,sortDate:e.publishedAt?new Date(e.publishedAt).getTime():e.created_at?new Date(e.created_at).getTime():0,uniqueKey:`${(e.title||"").toLowerCase().trim()}_${(e.location||e.postcode||"").toLowerCase().trim()}`})),s=new Set,l=d.filter(e=>s.has(e.uniqueKey)?!1:(s.add(e.uniqueKey),!0));r.value=l.filter(e=>e.is_public!==!1).sort((e,c)=>c.sortDate-e.sortDate),n.value=!1}else r.value=[],n.value=!1}),(d,s)=>(t(),o("section",null,[s[2]||(s[2]=a("h1",null,"Browse opportunities",-1)),s[3]||(s[3]=a("p",{class:"lead"}," Discover public activities shared by organisers, venues, and instructors. ",-1)),n.value?(t(),o("div",A,[...s[0]||(s[0]=[a("p",null,"Loading opportunities...",-1)])])):u.value?(t(),o("div",h,[a("p",B,w(u.value),1)])):r.value.length===0?(t(),o("div",D,[...s[1]||(s[1]=[a("p",null,"No opportunities found.",-1)])])):(t(),o("div",b,[(t(!0),o(y,null,k(r.value,l=>(t(),g(f,{key:l.id,ad:l,"show-actions":!1},null,8,["ad"]))),128))]))]))}},M=_(L,[["__scopeId","data-v-a23a7f11"]]);export{M as default};
